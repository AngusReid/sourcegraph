{{define "Head"}}<title>Sign in - Sourcegraph</title>
<meta name="robots" content="noindex">
{{end}}

{{define "Body"}}
<div class="row">
	<div class="col-md-5">
		{{if .FirstUser}}
		<h1>Welcome to Sourcegraph!</h1>
		<p>Set up your instance by logging in{{if .IsLDAP}} via LDAP{{end}} to create an admin account.</p>
		{{else}}
		<h1>Sign into your account{{if .IsLDAP}} via LDAP{{end}}</h1>
		{{end}}
		<form method="post" action="{{urlToWithReturnTo "log-in" .ReturnTo}}" class="log-in">
			<p class="help-block">{{.LoginForm.FormError}}</p>
			<div class="form-group {{.LoginForm.FieldClass "Login"}}">
				<label for="login">Username</label>
				<input name="Login" type="text" class="form-control" id="login" value="{{.LoginForm.Login}}" required pattern="[\w-]+" tabindex=1 autofocus>
				{{if (not .IsLDAP)}}<p class="help-block">{{.LoginForm.FieldError "Login"}} No account yet? <a href="{{urlToWithReturnTo "sign-up" .ReturnTo}}">Sign up.</a></p>{{end}}
			</div>
			<div class="form-group {{.LoginForm.FieldClass "Password"}}">
				<label for="password">Password</label>
				<input name="Password" type="password" class="form-control" id="password" required tabindex=2>
				<p class="help-block">{{.LoginForm.FieldError "Password"}} <a href="{{urlToWithReturnTo "forgot-password" .ReturnTo}}">Forgot your password?</a></p>
			</div>
			<button type="submit" class="btn btn-primary btn-lg" tabindex=3>Sign in</button>
			<input type="hidden" name="csrf_token" value="{{.CSRFToken}}">
		</form>
	</div>
</div>
{{end}}
